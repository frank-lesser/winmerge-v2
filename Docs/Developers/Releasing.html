<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Releasing WinMerge</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <style type="text/css">
  <!--
    body {
      font-family: Verdana,Helvetica,Arial,sans-serif;
      font-size: small;
    }
    code,pre {
      font-family: "Courier New",Courier,monospace;
      font-size: 1em;
    }
    h3 {
      padding: 2px;
      border-left: 4px solid #FFCC00;
      border-bottom: 1px solid #FFCC00;
    }
    h4 {
      padding: 2px;
      border-left: 8px solid #FF9933;
      border-bottom: 1px solid #FF9933;
    }
    h5 {
      font-size: small;
    }
    pre {
      margin-left: 25px;
      margin-right: 25px;
      padding: 5px;
      background-color: #EEEEEE;
      border-left: 10px solid #CCCCCC;
    }
    p.note {
      padding: 5px;
      background-color: #DDDDFF;
      border: 1px solid #6666FF;
    }
    acronym {
      cursor: help;
      border-bottom: 1px dotted black;
    }
  -->
  </style>
</head>
<body>
<h2>Creating a WinMerge release</h2>

<p><strong>Maybe outdated!</strong></p>

<p>Creating a release means building installer, executable- and source-packages
that can be distributed for users. <b>RELEASING IS A TASK WITH BIG
RESPONSIBILITY!</b> Making errors mean (lots of) users have non-working
WinMerge installations. And users are not happy about that!</p>

<h3>Table of Contents</h3>
<ol>
  <li><a href="#Environment">Environment</a></li>
  <li><a href="#StepsInReleasing">Steps to do a release</a></li>
  <li><a href="#Checksums">Calculating checksums</a></li>
</ol>

<h3><a name="Environment">Environment</a></h3>

<p>Before starting releasing, you must make sure you have all tools available:
</p>

<ol>
  <li>Installer building is explained in <a href="readme-InnoSetup.html">readme-InnoSetup.html</a></li>
  <li>Manual building is explained in <a href="readme-manual.html">readme-manual.html</a></li>
</ol>

<h3><a name="StepsInReleasing">Steps to do a release</a></h3>

<p>The list of steps is:</p>
<ol>
  <li>Verify that sources are ones you want to build as release.
    <ol><li>If you have a pristine copy (no modifications/build files etc) of
      sources make a copy of them before building etc. You can use this
      pristine copy as source distribution.
    </li></ol>
  </li>
  <li>Set version numbers:
   <ol><li><code>Src/Merge.rc</code> for executables</li>
    <li><code>ShellExtension/ShellExtension.rc</code> for Shell Extension</li>
    <li><code>Docs/Users/Manual/WinMerge_help.xml</code> for the manual</li>
   </ol>
  </li>
  <li>Build executables and libraries</li>
  <li>Build manual (see <a href="readme-manual.html">readme-manual.html</a>)</li>
  <li>Build installer (see <a href="readme-InnoSetup.html">readme-InnoSetup.html</a>)</li>
  <li>Create binary distribution folder:
    <ol><li>Copy executables and libraries to distribution folder</li>
      <li>Copy manual to <code>Docs</code> -subfolder</li>
      <li>Copy filter files to <code>Filters</code> -subfolder</li>
      <li>Copy plugin files to <code>MergePlugins</code> -subfolder</li>
    </ol>
  </li>
  <li>Create source distribution folder from pristine sources (see 1.1 in the list)
    <ol><li>Remove plugin dlls from sources</li></ol>
  </li>
  <li>Create packages from binary- and source-folders</li>
  <li>Create checksums (MD5 or SHA1) from packages <b>and</b> installer</li>
  <li>Run virus check for all files</li>
</ol>

<h3><a name="Checksums">Calculating checksums</a></h3>

<p>Checksums must be calculated and published for all released files. Using
checksums downloaders can verify the files are downloaded without erros and
more importantly the files are the same files that were published. This very
efficiently removes the possibility somebody has modified the files.</p>

<p>It is recommended that SHA-1 checksums are used.</p>

<p>There are several tools that can calculate SHA-1 checksums. One such tool
is <a href="http://checksumtool.sourceforge.net/">Checksum Tool</a>.</p>

</body>
</html>